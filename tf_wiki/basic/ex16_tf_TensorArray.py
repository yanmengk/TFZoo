import tensorflow as tf

# TensorFlow 动态数组: tf.TensorArray

@tf.function
def array_write_and_read():
    arr = tf.TensorArray(dtype=tf.float32,size=3)
    arr = arr.write(0,tf.constant(0.0))
    arr = arr.write(1,tf.constant(1.0))
    arr = arr.write(2,tf.constant(2.0))
    arr_0 = arr.read(0)
    arr_1 = arr.read(1)
    arr_2 = arr.read(2)
    return arr_0, arr_1, arr_2


a, b, c = array_write_and_read()
print(a, b, c)